# Copyright 2025 Canonical Ltd.
# See LICENSE file for licensing details.
# This file configures Charmcraft.
# See https://canonical-charmcraft.readthedocs-hosted.com/stable/howto/manage-charmcraft/ 
# for guidance.

type: charm
name: gateway-route-configurator
title: Gateway Route Configurator
summary: Configurator for Gateway API routes.
links:
  documentation: https://discourse.charmhub.io
  issues: https://github.com/canonical/gateway-route-configurator/issues
  source: https://github.com/canonical/gateway-route-configurator
  contact: https://launchpad.net/~canonical-is-devops

description: |
  A charm that acts as a bridge between a workload charm (via ingress relation)
  and the Gateway API Integrator (via gateway-route relation).
  It allows users to configure custom hostnames and paths for their applications.

base: ubuntu@24.04
platforms:
  amd64:

provides:
  ingress:
    interface: ingress

requires:
  gateway-route:
    interface: gateway-route

config:
  options:
    hostname:
      description: The hostname to serve the application on.
      type: string
    paths:
      description: Comma-separated list of paths to serve.
      type: string
      default: "/"

parts:
  charm:
    plugin: charm
    source: .
    charm-requirements:
      - pyproject.toml
    build-packages:
      - git
